<!DOCTYPE html>
<html>
<head>
  <title>Testes</title>
  <script type="text/javascript" src="assets/js/fases.js"></script>
  <script type="text/javascript" src="assets/js/objeto.js"></script>
  <script type="text/javascript" src="assets/js/porta.js"></script>
  <script type="text/javascript" src="lib/createjs-2015.05.21.min.js"></script>
</head>
<body onload="init();">

<div id="box" style="font-size:20pt;position:absolute"></div>

<canvas id="canvas" width="800" height="600" style="border: black solid 1px">
  
</canvas>

<script type="text/javascript">
  var stage, w, h;
  var manifest;

  //imagem do fundo
  var cozinha;
  var loader;

  //objetos do jogo e portas

  function init(){

    // cria a cena para guardar os objetos na tela
    stage = new createjs.Stage("canvas");
    createjs.Touch.enable(stage);
    w = stage.canvas.width;
    h = stage.canvas.height;

    manifest = [
      {src: "cozinha.jpg", id: "cozinha"},
      {src: "porta.png", id: "porta"},
    ];

    for (var i = 1; i <= 40; i++) {
      manifest.push({src: "objeto" + i + ".png", id: "objeto" + i});
    }

    loader = new createjs.LoadQueue(false);
    loader.addEventListener("complete", handleComplete);
    loader.loadManifest(manifest, true, "assets/images/");
  }


  function handleComplete() {
    //mostra o fundo
    cozinha = new createjs.Bitmap(loader.getResult("cozinha"));
    stage.addChild(cozinha);
    
    inicializaPortas();
    demonstraFase(0);

    // redesenha a cena vÃ¡rias vezes por segundo
    createjs.Ticker.setFPS(60);
    createjs.Ticker.addEventListener("tick", stage);
  }
</script>

</body>
</html>
